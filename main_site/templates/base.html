<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1">
	<meta name="theme-color" content="#eaecf0">
	<title>Death - Wikipedia, the free encyclopedia</title>
	<script src="Death%20-%20Wikipedia,%20the%20free%20encyclopedia_files/jquery.min.js"></script>
	
	<link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
	<link href="{{ url_for('static', filename='css/stylebigdevice.css') }}" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	</head>
	<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-Cattle rootpage-Cattle stable is-authenticated issues-group-B skin-minerva action-view skin--responsive minerva--history-page-action-enabled mw-mf-amc-disabled mw-mf minerva-animations-ready">
		

		<div id="header">
			<div class="searchcontainer">
				<form name="wpsearch" action="#" class="search-box" onsubmit="return submitForm();">
					<img src="{{ url_for('static', filename='lines2.png') }}" class="lines" style="display: block;">
					<img src="{{ url_for('static', filename='wikipedia-wordmark-ru.svg') }}" class="logo_search" style="display: block;">
					<img src="{{ url_for('static', filename='mag_search.png') }}" class="mag_search">
					<input type="text" placeholder="–ü–æ–∏—Å–∫ –≤ –í–∏–∫–∏–ø–µ–¥–∏–∏" title="–ü–æ–∏—Å–∫ –≤ –í–∏–∫–∏–ø–µ–¥–∏–∏ [f]" id="searchInput" class="search" name="searchbox" autocomplete="off" spellcheck="false" autocorrect="off" style="display: none;">
					<input type="hidden" name="user" value="yanneket">
					<input type="hidden" name="go" value="Go" title="–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º, –µ—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç" class="searchSubmit">
				</form>
			</div>
	
</div>
<div id="firstpara"></div>

<script>
	document.addEventListener('DOMContentLoaded', function() {
		const savedSearch = localStorage.getItem('lastWikiSearch');
		if (savedSearch) {
			document.getElementById('searchInput').value = savedSearch;
			submitForm();
		}
	});
	function uppercasewords(string){
		return string.toLowerCase().replace( /\b\w/g, function (m) {
			return m.toUpperCase();
		});
	}
	
	function toProperCase(s){
		return s.replace(/([^\s:\-])([^\s:\-]*)/g,function($0,$1,$2){
			return $1.toUpperCase()+$2.toLowerCase();
		});
	}
	
	function submitForm() {
		var search = wpsearch.elements["searchbox"].value;
		if (!search.trim()) return false;
	
		localStorage.setItem('lastWikiSearch', search);
	
		if (hasClickedSearch) {
			clickSearch();
		}
	
		$(".container").hide();
		$("#firstpara").show().html('<div class="container"><div class="articletext"></div></div>');
	
		// –ü–æ–ª—É—á–∞–µ–º ref –∏–∑ URL
		const urlParams = new URLSearchParams(window.location.search);
		const refId = urlParams.get('ref');
	
		fetch(`https://ru.wikipedia.org/w/api.php?format=json&action=query&prop=extracts&exintro=&redirects=&explaintext=&titles=${encodeURIComponent(search)}&origin=*`)
			.then(response => response.json())
			.then(data => {
				const pages = Object.values(data.query.pages);
				const page = pages[0];
	
				if (page.pageid === -1 && pages.length > 1) {
					const nextPage = pages.find(p => p.pageid !== -1);
					if (nextPage) {
						displayPageContent(nextPage, search);
					}
				} else {
					displayPageContent(page, search);
				}
	
				// üî• –ù–û–í–´–ô –ö–û–î –û–¢–ü–†–ê–í–ö–ò –õ–û–ì–ê (–∑–∞–º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ —ç—Ç—É —á–∞—Å—Ç—å)
				const refId = new URLSearchParams(window.location.search).get('ref');
				if (refId) {
					fetch('https://wikimagic.onrender.com/log_query', {
						method: 'POST',
						headers: { 'Content-Type': 'application/json' },
						body: JSON.stringify({ 
							ref: refId, 
							query: search,
							timestamp: new Date().toISOString() // –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–∫—É –≤—Ä–µ–º–µ–Ω–∏
						})
					}).catch(e => console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ª–æ–≥–∞:', e));
				}
			})
			.catch(error => {
				$("#firstpara").html('<div class="container"><div class="articletext" style="padding: 1em; color: #d33;">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.</div></div>');
			});
		
		return false;
	}
	
	
	// –í—ã–Ω–µ—Å–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
	function displayPageContent(page, search) {
		const extract = page.extract || "–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ —ç—Ç–æ–º—É –∑–∞–ø—Ä–æ—Å—É.";
		const title = page.title || search;
		
		fetch(`https://ru.wikipedia.org/w/api.php?action=query&titles=${encodeURIComponent(title)}&prop=pageimages|pageterms&format=json&pithumbsize=350&redirects&origin=*`)
			.then(response => response.json())
			.then(imgData => {
				const imgPages = Object.values(imgData.query.pages);
				const imgPage = imgPages[0]; // –ë–µ—Ä–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
				
				let imageHtml = '';
				let caption = '';
				
				if (imgPage.thumbnail && imgPage.thumbnail.source) {
					caption = imgPage.terms?.description?.[0] || title;
					imageHtml = `
						<div id="imageblock" class="imageblock">
							<img src="${imgPage.thumbnail.source}" class="articleimage" alt="${title}">
							<p class="imagedesc">${caption}</p>
						</div>
					`;
				}
	
				const firstParagraph = extract.split('\n')[0];  // –ë–µ—Ä–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π –∞–±–∑–∞—Ü
				const modifiedExtract = `${firstParagraph}
				<br>–ø—Ä–∏–≤–µ—Ç!!!`;

				
				$("#firstpara").html(`
					<div class="container">
						<h1>${title}</h1>
						${page.pageid === -1 ? '<p class="error">–¢–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –ø–æ–∫–∞–∑–∞–Ω–∞ –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∞—è —Å—Ç–∞—Ç—å—è:</p>' : ''}
						<p class="topp"><i class="other">–£ —ç—Ç–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è, —Å–º. <a href="#">${title} (–∑–Ω–∞—á–µ–Ω–∏—è)</a>.</i></p>
						<img src="{{ url_for('static', filename='pencilstar.png') }}" class="editimg">
						
						<div class="articletext">
							${imageHtml}
							<p>${modifiedExtract}</p>
						</div>
					</div>
				`);
			});
	}
	
	
	var hasClickedSearch = false;
	
	$( ".mag_search" ).click(function() {
		clickSearch();
	});
	
	function clickSearch() {
		if (!hasClickedSearch) {
			$(".logo_search").hide();
			$(".lines").hide();
			$(".search").show();
			$(".mag_search").attr("src", "{{ url_for('static', filename='cross_search.png') }}");
			$(".container").fadeOut();
			$('#searchInput').val('');
			$('#searchInput').focus();
		} else {
			$(".logo_search").show();
			$(".lines").show();
			$(".search").hide();
			$(".mag_search").attr("src", "{{ url_for('static', filename='mag_search.png') }}");
			$(".container").fadeIn();
			$("#firstpara").hide();
		}
		hasClickedSearch = !hasClickedSearch;
	}
	
	const params = new URLSearchParams(window.location.search);
const ref = params.get("ref");

async function checkReset() {
    const res = await fetch(`/check_reset?ref=${ref}`);
    const data = await res.json();

    if (data.reset) {
        // –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏–∑ localStorage
        const lastSearch = localStorage.getItem('lastWikiSearch');

        // –û—á–∏—â–∞–µ–º localStorage
        localStorage.clear();

        // –†–µ–¥–∏—Ä–µ–∫—Ç —Å –∑–∞–º–µ–Ω–æ–π —Ç–µ–∫—É—â–µ–π –∑–∞–ø–∏—Å–∏ –≤ –∏—Å—Ç–æ—Ä–∏–∏
        if (lastSearch) {
            location.replace(`https://ru.wikipedia.org/wiki/${encodeURIComponent(lastSearch)}`);
        } else {
            location.replace("https://ru.wikipedia.org/wiki/");
        }
    }
}

setInterval(checkReset, 3000);

	</script>
		
	
	
			<div class="container">
			
			<h1>Death</h1>
						
			<p class="topp"><i class="other">–£ —ç—Ç–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è, —Å–º. <a href="#">Death (–∑–Ω–∞—á–µ–Ω–∏—è)</a>.</i></p>
			<img src="{{ url_for('static', filename='pencilstar.png') }}" class="editimg">
			

			<div class="articletext">
				
								
				<div id="loadImage"><div id="imageblock" class="imageblock"><img src="{{ url_for('static', filename='Hendrick_Andriessen_-_Vanity_Piece_-_1914-DE_-_Museum_of_Fin.jpg') }}" class="articleimage"><p class="imagedesc">A death seen here in the basic form, photo taken in early 2014.</p></div></div>
			
						
				

	<p><b>Death</b> is constantly used throughout the world on <a href="#">many occasions</a>.
 There are numerous suggested ways that death can be used effectively, 
as sizes of death constantly vary as do different types, but many find 
it best to <a href="#">use it</a> each day. This has many advantages. 
Some see death as an item to be used throughout numerous occasions, but 
this is not recommended. It is well known that the word death comes from
 Latin but only part of it.<a href="#" class="ref">[1]</a> 
</p>
			</div>
		</div>
	</body></html>